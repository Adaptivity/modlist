$("#name").typeahead([{name:"mods",remote:"/typeahead/search/%QUERY",template:['<p><strong>{{value}}</strong> {{other}} <i class="pull-right">{{author}}</i></p>',"<p>{{desc}}</p>"].join(""),engine:Hogan}]);function loadMod(a,b){$("#name").popover({html:true,placement:"top",trigger:"manual",content:'<i class="fa fa-refresh icon-spin"></i> Loading Mod Information...'});$("#name").popover("show");$.ajax({url:"/typeahead/load/"+encodeURIComponent(a)+"/"+encodeURIComponent(b)+"/",type:"get",dataType:"json",cache:false,success:function(c){completeLoadMod(c)},async:true,})}function completeLoadMod(a){$("#link").val(a.link);$("#desc").val(a.desc);$("#authors").val(a.parsedauthors);if(a.source!==null){$("#source").val(a.source)}if($.inArray("Forge Required",a.dependencies)!==-1){$("#required").prop("checked",true)}if($.inArray("Forge Compatible",a.dependencies)!==-1){$("#compatible").prop("checked",true)}if($.inArray("Not Forge Compatible",a.dependencies)!==-1){$("#notcompatible").prop("checked",true)}if($.inArray("Universal",a.type)!==-1){$("input[value='universal']").prop("checked",true)}else{$("input[value='universal']").prop("checked",false)}if($.inArray("Client",a.type)!==-1){$("input[value='client']").prop("checked",true)}else{$("input[value='client']").prop("checked",false)}if($.inArray("Server",a.type)!==-1){$("input[value='server']").prop("checked",true)}else{$("input[value='server']").prop("checked",false)}if($.inArray("SSP",a.type)!==-1){$("input[value='SSP']").prop("checked",true)}else{$("input[value='SSP']").prop("checked",false)}if($.inArray("SMP",a.type)!==-1){$("input[value='SMP']").prop("checked",true)}else{$("input[value='SMP']").prop("checked",false)}if($.inArray("LAN",a.type)!==-1){$("input[value='LAN']").prop("checked",true)}else{$("input[value='LAN']").prop("checked",false)}$("#versions input").prop("checked",false);$.each(a.versions,function(){$("input[value='"+this+"']").prop("checked",true)});$("#old").click();$("#name").popover("hide")}$("#old").change(function(){if($("#old").is(":checked")){$("#link").prop("disabled",true);$("#desc").prop("disabled",true);$("#authors").prop("disabled",true);$("#forge-compatibility input").prop("disabled",true);$("#availability input").prop("disabled",true);$("#link").removeAttr("required");$("#desc").removeAttr("required");$("#authors").removeAttr("required")}});$("#new").change(function(){if($("#new").is(":checked")){$("input").prop("disabled",false);$("textarea").prop("disabled",false);$("#link").attr("required","required");$("#desc").attr("required","required");$("#authors").attr("required","required")}});$(document).ready(function(){$("#old").click();$("#new").click()});$("form button[type='reset']").click(function(){$("#new").click()});$("#name").bind("typeahead:selected",function(b,a){loadMod(a.value,a.author)});$(".twitter-typeahead").css("display","block");$("#link").blur(function(){var a=$("#link").val();if(a!==""){if(/(http:\/\/)*(www.)*minecraftforum.net\/topic\/\d+-./.test(a)){$("#link").val(a.match(/(http:\/\/)*(www.)*minecraftforum.net\/topic\/\d+-/)[0])}}});