function loadMod(e,t){$("#name").popover({html:true,placement:"top",trigger:"manual",content:'<i class="fa fa-refresh icon-spin"></i> Loading Mod Information...'});$("#name").popover("show");$.ajax({url:"/typeahead/load?name="+encodeURIComponent(e)+"&author="+encodeURIComponent(t),type:"get",dataType:"json",cache:false,success:function(e){completeLoadMod(e)},async:true})}function completeLoadMod(e){$("#link").val(e["link"]);$("#desc").val(e["desc"]);$("#authors").val(e["parsedauthors"]);if(e["source"]!==null)$("#source").val(e["source"]);if($.inArray("Forge Required",e["dependencies"])!==-1)$("#required").prop("checked",true);if($.inArray("Forge Compatible",e["dependencies"])!==-1)$("#compatible").prop("checked",true);if($.inArray("Not Forge Compatible",e["dependencies"])!==-1)$("#notcompatible").prop("checked",true);if($.inArray("Universal",e["type"])!==-1)$("input[value='universal']").prop("checked",true);else $("input[value='universal']").prop("checked",false);if($.inArray("Client",e["type"])!==-1)$("input[value='client']").prop("checked",true);else $("input[value='client']").prop("checked",false);if($.inArray("Server",e["type"])!==-1)$("input[value='server']").prop("checked",true);else $("input[value='server']").prop("checked",false);if($.inArray("SSP",e["type"])!==-1)$("input[value='SSP']").prop("checked",true);else $("input[value='SSP']").prop("checked",false);if($.inArray("SMP",e["type"])!==-1)$("input[value='SMP']").prop("checked",true);else $("input[value='SMP']").prop("checked",false);if($.inArray("LAN",e["type"])!==-1)$("input[value='LAN']").prop("checked",true);else $("input[value='LAN']").prop("checked",false);$("#versions input").prop("checked",false);$.each(e["versions"],function(){$("input[value='"+this+"']").prop("checked",true)});$("#old").click();$("#name").popover("hide")}$("#name").typeahead([{name:"mods",remote:"/typeahead/search?query=%QUERY",template:['<p><strong>{{value}}</strong> {{other}} <i class="pull-right">{{author}}</i></p>',"<p>{{desc}}</p>"].join(""),engine:Hogan}]);$("#old").change(function(){if($("#old").is(":checked")){$("#link").prop("disabled",true);$("#desc").prop("disabled",true);$("#authors").prop("disabled",true);$("#forge-compatibility input").prop("disabled",true);$("#availability input").prop("disabled",true);$("#link").removeAttr("required");$("#desc").removeAttr("required");$("#authors").removeAttr("required")}});$("#new").change(function(){if($("#new").is(":checked")){$("input").prop("disabled",false);$("textarea").prop("disabled",false);$("#link").attr("required","required");$("#desc").attr("required","required");$("#authors").attr("required","required")}});$(document).ready(function(){$("#old").click();$("#new").click()});$("form button[type='reset']").click(function(){$("#new").click()});$("#name").bind("typeahead:selected",function(e,t){loadMod(t["value"],t["author"])});$(".twitter-typeahead").css("display","block");$("#link").blur(function(){var e=$("#link").val();if(e!==""){if(/(http:\/\/)*(www.)*minecraftforum.net\/topic\/\d+-./.test(e)){$("#link").val(e.match(/(http:\/\/)*(www.)*minecraftforum.net\/topic\/\d+-/)[0])}}})